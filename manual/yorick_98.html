---
layout: default
headline: User Manual
anchor: '<a name="API-for-embedding"></a>'
---
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="yorick_97.html#Mechanics-of-embedding" title="Previous section in reading order"><img src="../images/dm-prev.png" border="0" alt="Back: 4.1 Mechanics of embedding" align="middle"/></a></td>
<td valign="middle" align="left"><a href="yorick_99.html#Embedding-example" title="Next section in reading order"><img src="../images/dm-next.png" border="0" alt="Forward: 4.3 Embedding example" align="middle"/></a></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="yorick_96.html#Embedding" title="Beginning of this chapter or previous chapter"><img src="../images/dm-2prev.png" border="0" alt="FastBack: 4. Embedding Compiled Routines Inside Yorick" align="middle"/></a></td>
<td valign="middle" align="left"><a href="yorick_96.html#Embedding" title="Up section"><img src="../images/dm-up.png" border="0" alt="Up: 4. Embedding Compiled Routines Inside Yorick" align="middle"/></a></td>
<td valign="middle" align="left"><img src="../images/dmg-2next.png" border="0" alt="FastForward: 4. Embedding Compiled Routines Inside Yorick" align="middle"/></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="yorick.html#Top" title="Cover (top) of document"><img src="../images/dm-top.png" border="0" alt="Top: Yorick: An Interpreted Language" align="middle"/></a></td>
<td valign="middle" align="left"><a href="yorick_toc.html#SEC_Contents" title="Table of contents"><img src="../images/dm-toc.png" border="0" alt="Contents: Table of Contents" align="middle"/></a></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="yorick_abt.html#SEC_About" title="About (help)"><img src="../images/dm-help.png" border="0" alt="About: About This Document" align="middle"/></a></td>
</tr></table>
<hr size="1"/>
<a name="API-for-embedding-1"></a>
<h2 class="section">4.2 API for embedding</h2>

<p>Instead of letting <kbd>codger</kbd> generate simple wrapper functions
for you, you can omit the <kbd>PROTOTYPE</kbd> comment, and write
<kbd>Y_my_func</kbd> yourself.  Its prototype is
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">extern void Y_my_func(int argc);
</pre></td></tr></table>

<p>The <kbd>argc</kbd> argument is the count of the number of items on the stack
containing the arguments the interpreter is passing to <kbd>Y_my_func</kbd>.
This would be simply the number of arguments the caller is passing to
your function, were it not for the possibility of keyword arguments.
Each actual keyword argument takes two spaces on the stack &ndash; one for
the name of the keyword and a second for its value.  If your function
does not accept keywords, you can ignore the distinction between
<kbd>argc</kbd> and the number of arguments being passed to your function.
</p>
<p>When your function exits, whatever you leave on top of the stack becomes
its return value.  This section explains the programming interface (or
API) which permits you to get your arguments off the stack, push new
items onto the stack, set or get global variable values, and otherwise
interact with the yorick interpreter.  All of these functions are
declared in the &lsquo;<tt>yapi.h</tt>&rsquo; header, which your C (or C++) source file
should include.
</p>
<p>The following examples do not illustrate all of the functions in
&lsquo;<tt>yapi.h</tt>&rsquo;; you need to read the header file itslef for a
comprehensive list.  For more examples of &lsquo;<tt>yapi.h</tt>&rsquo; usage, read
the yorick source file &lsquo;<tt>yorick/ystr.c</tt>&rsquo;.
</p>
<hr size="1"/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="yorick_97.html#Mechanics-of-embedding" title="Previous section in reading order"><img src="../images/dm-prev.png" border="0" alt="Back: 4.1 Mechanics of embedding" align="middle"/></a></td>
<td valign="middle" align="left"><a href="yorick_99.html#Embedding-example" title="Next section in reading order"><img src="../images/dm-next.png" border="0" alt="Forward: 4.3 Embedding example" align="middle"/></a></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="yorick_96.html#Embedding" title="Beginning of this chapter or previous chapter"><img src="../images/dm-2prev.png" border="0" alt="FastBack: 4. Embedding Compiled Routines Inside Yorick" align="middle"/></a></td>
<td valign="middle" align="left"><a href="yorick_96.html#Embedding" title="Up section"><img src="../images/dm-up.png" border="0" alt="Up: 4. Embedding Compiled Routines Inside Yorick" align="middle"/></a></td>
<td valign="middle" align="left"><img src="../images/dmg-2next.png" border="0" alt="FastForward: 4. Embedding Compiled Routines Inside Yorick" align="middle"/></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="yorick.html#Top" title="Cover (top) of document"><img src="../images/dm-top.png" border="0" alt="Top: Yorick: An Interpreted Language" align="middle"/></a></td>
<td valign="middle" align="left"><a href="yorick_toc.html#SEC_Contents" title="Table of contents"><img src="../images/dm-toc.png" border="0" alt="Contents: Table of Contents" align="middle"/></a></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="yorick_abt.html#SEC_About" title="About (help)"><img src="../images/dm-help.png" border="0" alt="About: About This Document" align="middle"/></a></td>
</tr></table>

